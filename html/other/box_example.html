<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.130/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.130/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body>
  <div id="cesiumContainer"></div>
  <script type="module">
    // Your access token can be found at: https://ion.cesium.com/tokens.
    // This is the default access token from your ion account

    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1OGIzZmQyZC03YjNiLTQzMjQtOWQxYS0xOTYxZWUyMTYzMjQiLCJpZCI6MzEzMjQxLCJpYXQiOjE3NTAyMjc2NDd9.G9X0WofFDt3mbp2L_WDzU__rcAVg0v3rpAliG1sgB9k';

    const viewer = new Cesium.Viewer("cesiumContainer");

    // Stores the tileset that is currently selected
    let currentTileset;

    if (Cesium.defined(currentTileset)) {
      viewer.scene.primitives.remove(currentTileset);
      currentTileset = undefined;
    }
    // Create the tileset, and move it to a certain position on the globe
    currentTileset = viewer.scene.primitives.add(
      await Cesium.Cesium3DTileset.fromUrl(
        `http://localhost:5173/assets/0_0_0-2_1_1/tileset.json`,
        {
          debugShowBoundingVolume: true,
        }
      )
    );
    currentTileset.modelMatrix = Cesium.Transforms.eastNorthUpToFixedFrame(
      Cesium.Cartesian3.fromDegrees(-75.152325, 39.94704, 0)
    );
    const offset = new Cesium.HeadingPitchRange(
      Cesium.Math.toRadians(-22.5),
      Cesium.Math.toRadians(-22.5),
      12.0
    );
    viewer.zoomTo(currentTileset, offset);

  </script>
</body>

</html>